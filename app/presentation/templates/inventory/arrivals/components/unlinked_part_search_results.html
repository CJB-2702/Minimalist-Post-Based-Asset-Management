<div id="unlinked_part_results">
    {% if error %}
    <div class="dropdown-item-text text-danger">
        <i class="bi bi-exclamation-triangle"></i> Error: {{ error }}
    </div>
    {% elif parts %}
        {% if showing < total_count %}
        <div class="dropdown-item-text text-muted small">
            Showing {{ showing }} of {{ total_count }} matches
        </div>
        {% endif %}
        {% for part in parts %}
        <a href="#"
           class="dropdown-item {% if selected_part_id == part.id %}active{% endif %}"
           data-part-id="{{ part.id }}"
           data-part-number="{{ part.part_number }}"
           data-part-name="{{ part.part_name }}"
           onclick="selectUnlinkedPart(this); return false;"
           style="cursor: pointer; transition: background-color 0.2s;">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <strong>{{ part.part_number }}</strong> - {{ part.part_name }}
                    {% if part.description %}
                    <br><small class="text-muted">{{ part.description[:50] }}{% if part.description|length > 50 %}...{% endif %}</small>
                    {% endif %}
                </div>
            </div>
        </a>
        {% endfor %}
    {% else %}
    <div class="dropdown-item-text text-muted">
        {% if search %}
        No parts found matching "{{ search }}"
        {% else %}
        Start typing to search for parts...
        {% endif %}
    </div>
    {% endif %}
</div>
