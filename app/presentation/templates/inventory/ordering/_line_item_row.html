<tr id="line-row-{{ line.id }}">
    <td>{{ line.line_number }}</td>
    <td>{{ line.part.part_number if line.part else 'N/A' }}</td>
    <td>{{ line.part.part_name if line.part else 'N/A' }}</td>
    <td>{{ line.quantity_ordered }}</td>
    <td>${{ "%.2f"|format(line.unit_cost) }}</td>
    <td><strong>${{ "%.2f"|format(line.line_total) }}</strong></td>
    <td>
        <button type="button" 
                class="btn btn-sm btn-outline-primary me-1"
                hx-get="{{ url_for('inventory.purchase_order_line_edit_form', po_id=po_context.purchase_order_id, line_id=line.id) }}"
                hx-target="#line-row-{{ line.id }}"
                hx-swap="outerHTML">
            <i class="bi bi-pencil"></i> Edit
        </button>
        <form method="POST" action="{{ url_for('inventory.purchase_order_edit', po_id=po_context.purchase_order_id) }}" 
              style="display: inline;" 
              onsubmit="return confirm('Remove this line item?');">
            <input type="hidden" name="action" value="remove_line">
            <input type="hidden" name="line_id" value="{{ line.id }}">
            <button type="submit" class="btn btn-sm btn-outline-danger">
                <i class="bi bi-trash"></i> Remove
            </button>
        </form>
    </td>
</tr>


