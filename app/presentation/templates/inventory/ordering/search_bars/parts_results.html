{% if error %}
<div class="dropdown-item-text text-danger">
    <i class="bi bi-exclamation-triangle"></i> Error: {{ error }}
</div>
{% elif parts %}
    {% if showing < total_count %}
    <div class="dropdown-item-text text-muted small">
        Showing {{ showing }} of {{ total_count }} matches
    </div>
    {% endif %}
    {% for part in parts %}
    <a href="#" 
       class="dropdown-item {% if selected_part_id == part.id %}active{% endif %}"
       onclick="window.selectPart({{ part.id }}, '{{ part.part_number }}', '{{ part.part_name }}', {{ part.last_unit_cost or 0 }}); return false;">
        <div>
            <strong>{{ part.part_number }}</strong> - {{ part.part_name }}
            {% if part.last_unit_cost %}
            <span class="text-muted float-end">${{ "%.2f"|format(part.last_unit_cost) }}</span>
            {% endif %}
        </div>
        {% if part.description %}
        <small class="text-muted">{{ part.description[:50] }}{% if part.description|length > 50 %}...{% endif %}</small>
        {% endif %}
    </a>
    {% endfor %}
{% else %}
<div class="dropdown-item-text text-muted">
    {% if search %}
    No parts found matching "{{ search }}"
    {% else %}
    Start typing to search for parts...
    {% endif %}
</div>
{% endif %}



