{% extends 'base.html' %}
{% block title %}New Dispatch Request{% endblock %}
{% block content %}
<div class="container mt-3">
  <h2>New Dispatch Request</h2>
  <form method="post">
    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Desired Start</label>
        <input class="form-control" type="datetime-local" name="desired_start" required>
      </div>
      <div class="col-md-6">
        <label class="form-label">Desired End</label>
        <input class="form-control" type="datetime-local" name="desired_end" required>
      </div>
      <div class="col-md-6">
        <label class="form-label">Asset Type</label>
        <select class="form-select" name="asset_type_id" required>
          {% for t in asset_types %}
          <option value="{{ t.id }}">{{ t.name }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-6">
        <label class="form-label">Dispatch Scope</label>
        <select class="form-select" name="dispatch_scope">
          <option>Onsite</option>
          <option selected>Local</option>
          <option>Regional</option>
          <option>Interstate</option>
          <option>Continental</option>
        </select>
      </div>
      <div class="col-md-6">
        <label class="form-label">Major Location</label>
        <select class="form-select" name="major_location_id" required>
          {% for l in locations %}
          <option value="{{ l.id }}">{{ l.name }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-6">
        <label class="form-label">Asset Subclass Text</label>
        <input class="form-control" name="asset_subclass_text">
      </div>
      <div class="col-md-6">
        <label class="form-label">Estimated Meter Usage</label>
        <input class="form-control" name="estimated_meter_usage" type="number" step="0.01">
      </div>
      <div class="col-md-6">
        <label class="form-label">Status</label>
        <select class="form-select" name="status">
          <option>Draft</option>
          <option>Submitted</option>
        </select>
      </div>
      <div class="col-12">
        <label class="form-label">Notes</label>
        <textarea class="form-control" name="notes" rows="3"></textarea>
      </div>
    </div>
    <div class="mt-3">
      <button class="btn btn-primary" type="submit">Create</button>
      <a class="btn btn-secondary" href="{{ url_for('dispatching.requests_list') }}">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}




