<div class="card mb-3 info-card primary">
    <div class="card-header">
        <h5 class="mb-0">
            <i class="bi bi-file-text"></i> Request Information
        </h5>
    </div>
    <div class="card-body">
        <dl class="row mb-0">
            <dt class="col-sm-4">Request ID</dt>
            <dd class="col-sm-8">
                <a href="{{ url_for('dispatching.requests_detail', item_id=request.id) }}" class="text-decoration-none">
                    #{{ request.id }}
                </a>
            </dd>
            
            <dt class="col-sm-4">Status</dt>
            <dd class="col-sm-8">
                <span class="badge 
                    {% if request.status == 'Completed' or request.status == 'Contracted' or request.status == 'Reimbursed' %}bg-success
                    {% elif request.status == 'Active' or request.status == 'Submitted' %}bg-primary
                    {% elif request.status == 'Draft' %}bg-secondary
                    {% elif request.status == 'Rejected' %}bg-danger
                    {% else %}bg-secondary{% endif %}">
                    {{ request.status }}
                </span>
            </dd>
            
            <dt class="col-sm-4">Desired Times</dt>
            <dd class="col-sm-8">
                {% if request.desired_start %}
                    <strong>Start:</strong> {{ request.desired_start.strftime('%Y-%m-%d %H:%M') if request.desired_start else 'N/A' }}<br>
                {% endif %}
                {% if request.desired_end %}
                    <strong>End:</strong> {{ request.desired_end.strftime('%Y-%m-%d %H:%M') if request.desired_end else 'N/A' }}
                {% endif %}
            </dd>
            
            <dt class="col-sm-4">Asset Type</dt>
            <dd class="col-sm-8">{{ request.asset_type.name if request.asset_type else 'N/A' }}</dd>
            
            <dt class="col-sm-4">Asset Subclass</dt>
            <dd class="col-sm-8">{{ request.asset_subclass_text }}</dd>
            
            <dt class="col-sm-4">Scope</dt>
            <dd class="col-sm-8">
                <span class="badge bg-info">{{ request.dispatch_scope }}</span>
            </dd>
            
            <dt class="col-sm-4">Location</dt>
            <dd class="col-sm-8">{{ request.major_location.name if request.major_location else 'N/A' }}</dd>
            
            {% if request.activity_location %}
            <dt class="col-sm-4">Activity Location</dt>
            <dd class="col-sm-8">{{ request.activity_location }}</dd>
            {% endif %}
            
            {% if request.num_people %}
            <dt class="col-sm-4">Number of People</dt>
            <dd class="col-sm-8">{{ request.num_people }}</dd>
            {% endif %}
            
            {% if request.estimated_meter_usage %}
            <dt class="col-sm-4">Estimated Meter Usage</dt>
            <dd class="col-sm-8">{{ request.estimated_meter_usage }}</dd>
            {% endif %}
            
            {% if request.resolution_type %}
            <dt class="col-sm-4">Resolution Type</dt>
            <dd class="col-sm-8">
                <span class="badge bg-primary">{{ request.resolution_type }}</span>
            </dd>
            {% endif %}
            
            {% if request.notes %}
            <dt class="col-sm-12 mt-2">Notes</dt>
            <dd class="col-sm-12">
                <div class="text-muted">{{ request.notes }}</div>
            </dd>
            {% endif %}
            
            <dt class="col-sm-4">Created</dt>
            <dd class="col-sm-8">
                <small class="text-muted">
                    {{ request.created_at.strftime('%Y-%m-%d %H:%M') if request.created_at else 'N/A' }}
                </small>
            </dd>
        </dl>
    </div>
</div>

